<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Team Sci-Ops â€” Hackathon Hub</title>
  <style>
    body{font-family:sans-serif;margin:0;background:#0f1221;color:#eaf0ff}
    header{background:#151935;padding:16px;position:sticky;top:0;display:flex;align-items:center;justify-content:space-between}
    .header-content{display:flex;align-items:center;gap:12px}
    .logo{width:60px;height:60px;border-radius:50%;object-fit:cover;box-shadow:0 0 8px #00d4ff}
    .header-text{display:flex;flex-direction:column;text-align:left}
    .team-title{font-size:1.8rem;font-weight:bold;color:#00d4ff;text-shadow:0 0 10px #7c5cff}
    .tagline{font-size:1rem;color:#8ea0c0;margin-top:4px;font-style:italic}
    nav{margin-left:auto}
    nav a{color:#8ea0c0;margin:0 12px;text-decoration:none;font-weight:600}
    nav a:hover{color:#fff}
    main{max-width:1100px;margin:20px auto;padding:0 16px;display:grid;gap:20px}
    @media(min-width:920px){main{grid-template-columns:1.2fr .8fr}}
    .card{background:#151935;padding:16px;border-radius:12px}
    h1{margin:0 0 8px}
    .member,.idea{border:1px solid #243055;border-radius:10px;padding:12px;margin:8px 0;background:#131733}
    .meta{font-size:.9rem;color:#8ea0c0;margin-top:4px}
    .email-link{color:#00eaff;font-weight:bold;text-decoration:none}
    .email-link:hover{text-decoration:underline;color:#66f2ff}
    .tag{background:#1b2147;padding:3px 8px;border-radius:8px;font-size:.8rem;margin:2px;display:inline-block}
    input,textarea,button{padding:8px;margin:4px 0;border-radius:6px;border:none}
    button{background:#00d4ff;color:#0f1221;font-weight:bold;cursor:pointer}
    button:hover{background:#66f2ff}
    .chat-msg{margin:6px 0;padding:8px;border-radius:6px;background:#1b2147}
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <img src="https://raw.githubusercontent.com/MKASHIVISHWANATH/hacknow/main/logo.png" alt="Team Sci-Ops Logo" class="logo">
      <div class="header-text">
        <div class="team-title">ðŸš€ Team Sci-Ops</div>
        <div class="tagline">Hackathon Collaboration Hub</div>
      </div>
    </div>
    <nav>
      <a href="#ideas">Ideas</a>
      <a href="#team">Team</a>
      <a href="#chat">Chat</a>
    </nav>
  </header>

  <main>
    <!-- Ideas -->
    <section id="ideas" class="card">
      <h1>Idea Board</h1>
      <div id="ideaList"></div>
      <h3>Add New Idea</h3>
      <input id="ideaTitle" placeholder="Title"/><br/>
      <textarea id="ideaDesc" placeholder="Description"></textarea><br/>
      <input id="ideaOwner" placeholder="Your Name"/><br/>
      <button onclick="submitIdea()">âž• Submit Idea</button>
    </section>

    <!-- Chat -->
    <aside id="chat" class="card">
      <h1>Chat</h1>
      <div id="chatStream">ðŸ’¬ Loading messages...</div>
      <h3>Send Message</h3>
      <input id="chatUser" placeholder="Your Name"/><br/>
      <input id="chatText" placeholder="Type a message"/><br/>
      <button onclick="sendMessage()">ðŸ“¨ Send</button>
    </aside>

    <!-- Team -->
    <section id="team" class="card">
      <h1>Team Members</h1>
      <div id="teamList"></div>
    </section>
  </main>

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCStQRgkUrxyxPJdexfigwujwc53zTihDI",
      authDomain: "team-sci-ops.firebaseapp.com",
      databaseURL: "https://team-sci-ops-default-rtdb.firebaseio.com",
      projectId: "team-sci-ops",
      storageBucket: "team-sci-ops.firebasestorage.app",
      messagingSenderId: "1044063550937",
      appId: "1:1044063550937:web:99a917039b299704b82dc8",
      measurementId: "G-M64SGZPMK0"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // --- TEAM DATA (static) ---
    const team = [
      {name:"M KASHI VISHWANATH",role:"Designer",email:"mkashi@karunya.edu.in",skills:["C/C++","Python","MATLAB","KiCAD","Proteus 8","AutoCAD"],links:["https://www.linkedin.com/in/m-kashi-vishwanath-7307b32a8","https://github.com/MKASHIVISHWANATH","https://kashivishwanath-portfolio.vercel.app/"]},
      {name:"JACOB ASHIRWAD M P",role:"DevOps Engineer",email:"jacobashirwad@karunya.edu.in",skills:[],links:["https://www.linkedin.com/in/jacob-ashirwad07/","https://github.com/CipherSaber"]},
      {name:"KMDSSR JEFFREY",role:"Research Lead",email:"kmdeva@karunya.edu.in",skills:[],links:["https://github.com/jeffrey-debug","https://www.linkedin.com/in/-jeffrey-6553102b5"]},
      {name:"Balaji S",role:"Full Stack WebDevelopment",email:"balajis23@karunya.edu.in",skills:[],links:[]},
      {name:"Pydimukkala Mani Kumar",role:"ML Engineer",email:"pydimukkalamani@karunya.edu.in",skills:[],links:["https://github.com/manikumarpydi","https://www.linkedin.com/in/balajikavi"]}
    ];

    function renderTeam(){
      const box=document.getElementById("teamList");
      box.innerHTML="";
      team.forEach(m=>{
        const el=document.createElement("div");
        el.className="member";
        el.innerHTML=`<strong>${m.name}</strong> â€” ${m.role}
          <div class="meta">ðŸ“§ <a class="email-link" href="mailto:${m.email}">${m.email}</a></div>
          <div class="meta">Skills: ${m.skills.length?m.skills.join(", "):"â€”"}</div>
          <div class="meta">Links: ${m.links.length?m.links.map(l=>`<a href="${l}" target="_blank">${l}</a>`).join(" Â· "):"â€”"}</div>`;
        box.appendChild(el);
      });
    }
    renderTeam();

    // --- CHAT ---
    const chatRef = ref(db,"chat");
    function sendMessage(){
      const user=document.getElementById("chatUser").value||"Anonymous";
      const text=document.getElementById("chatText").value;
      if(!text) return;
      push(chatRef,{user,text,timestamp:Date.now()});
      document.getElementById("chatText").value="";
    }
    onValue(chatRef,(snap)=>{
      const chat=document.getElementById("chatStream");
      chat.innerHTML="";
      snap.forEach(msg=>{
        const data=msg.val();
        chat.innerHTML+=`<div class="chat-msg"><b>${data.user}:</b> ${data.text}</div>`;
      });
    });

    // --- IDEAS ---
    const ideaRef = ref(db,"ideas");
    function submitIdea(){
      const title=document.getElementById("ideaTitle").value;
      const desc=document.getElementById("ideaDesc").value;
      const owner=document.getElementById("ideaOwner").value||"Anonymous";
      if(!title||!desc) return;
      push(ideaRef,{title,desc,owner,timestamp:Date.now()});
      document.getElementById("ideaTitle").value="";
      document.getElementById("ideaDesc").value="";
    }
    onValue(ideaRef,(snap)=>{
      const list=document.getElementById("ideaList");
      list.innerHTML="";
      snap.forEach(i=>{
        const d=i.val();
        list.innerHTML+=`<div class="idea"><strong>${d.title}</strong>
          <div class="meta">by ${d.owner}</div>
          <div>${d.desc}</div></div>`;
      });
    });

    // Expose functions globally
    window.sendMessage = sendMessage;
    window.submitIdea = submitIdea;
  </script>
</body>
</html>
